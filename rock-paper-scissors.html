<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Rock-Paper-Scissors</title>
    </head>
    <body>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <div>Player Score: <span id ="player-score"></span></div>
        <div>CPU Score: <span id="cpu-score"></span></div>
        <div>Round result: <span id="round-outcome"></span></div>
        <div>Game Result: <span id="game-result"></span></div>

        <script>

            let playerScore = 0;
            let cpuScore = 0;

    
            function getComputerChoice(){
                const choiceArr = ["rock","paper","scissors"]
                let randomNum = Math.floor(Math.random() * 3)
                return choiceArr[randomNum];
                }




            function playRound(playerSelection){

                const cpuSelection = getComputerChoice();

                if (playerSelection === cpuSelection) {
                    return "Tie";
                } else if(playerSelection === "rock" && cpuSelection === "scissors"){
                    return "Player";
                } else if(playerSelection === "rock" && cpuSelection === "paper"){
                    return "Cpu";
                } else if(playerSelection === "paper" && cpuSelection === "rock"){
                    return "Player";
                } else if(playerSelection === "paper" && cpuSelection === "scissors"){
                    return "Cpu";
                } else if(playerSelection === "scissors" && cpuSelection === "rock"){
                    return "Player";
                } else if(playerSelection === "scissors" && cpuSelection === "paper"){
                    return "Cpu";
                }
            }

            function game(playerSelection){

        
        
            gameResult.textContent = ""
            roundOutcome.textContent = ""

    
            let roundResult = playRound(playerSelection);

            if(roundResult === "Tie"){
            roundOutcome.textContent = "Tie :/";
            } 
            else if(roundResult === "Player"){
            ++playerScore;
            roundOutcome.textContent = "Player wins the round :)"
            playerScoreElement.textContent = playerScore;
            } 
            else {
            ++cpuScore;
           roundOutcome.textContent = "Cpu wins the round :("
           cpuScoreElement.textContent = cpuScore;
            }
    
            
            if(cpuScore == 5) {
            gameResult.textContent = "You Lost!, Try Again!"
            cpuScore = 0;
            cpuScoreElement.textContent = cpuScore;
            playerScore = 0;
            playerScoreElement.textContent = playerScore;
            } else if (playerScore == 5) {
            gameResult.textContent = "You Win!, Congratulations!"
            playerScore = 0;
            playerScoreElement.textContent = playerScore
            cpuScore = 0;
            cpuScoreElement.textContent = cpuScore;
            }
            }       
             

            
                const rock = document.querySelector('#rock');
                const paper = document.querySelector('#paper');
                const scissors = document.querySelector('#scissors');

                let roundOutcome = document.querySelector('#round-outcome');
                let playerScoreElement = document.querySelector('#player-score');
                let cpuScoreElement = document.querySelector('#cpu-score')
                let gameResult = document.querySelector('#game-result');

                rock.addEventListener('click',() => {
                    game('rock');
                })
                paper.addEventListener('click',() => {
                    game('paper');
                })
                scissors.addEventListener('click',() => {
                    game('scissors');
                })
        </script>
    </body>
</html>